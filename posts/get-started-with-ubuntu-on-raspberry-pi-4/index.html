<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Get started with Ubuntu 20.04 on Raspberry Pi 4 · Morten Jensen
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Morten Jensen">
<meta name="description" content="
  Background
  
    
    Link to heading
  

With the advent of the Raspberry Pi 4, Pi&rsquo;s have become quite powerful both in CPU and memory terms and are now good candidates for software development on ARM architecture. The Pi 4 boasts quad-core ARM v8 1.5Ghz CPU with 64-bit support and the option of 2, 4 or 8GB of DDR4 memory. It also has excellent connectivity through dual HDMI support (including 4k), Gigabit Ethernet and USB 3.0 (and 2.0) ports.">
<meta name="keywords" content="ARM, ARM64, AArch64, Raspberry Pi, Development, Ubuntu, Docker, Kubernetes">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Get started with Ubuntu 20.04 on Raspberry Pi 4">
  <meta name="twitter:description" content="Background Link to heading With the advent of the Raspberry Pi 4, Pi’s have become quite powerful both in CPU and memory terms and are now good candidates for software development on ARM architecture. The Pi 4 boasts quad-core ARM v8 1.5Ghz CPU with 64-bit support and the option of 2, 4 or 8GB of DDR4 memory. It also has excellent connectivity through dual HDMI support (including 4k), Gigabit Ethernet and USB 3.0 (and 2.0) ports.">

<meta property="og:url" content="https://jensenmo.github.io/posts/get-started-with-ubuntu-on-raspberry-pi-4/">
  <meta property="og:site_name" content="Morten Jensen">
  <meta property="og:title" content="Get started with Ubuntu 20.04 on Raspberry Pi 4">
  <meta property="og:description" content="Background Link to heading With the advent of the Raspberry Pi 4, Pi’s have become quite powerful both in CPU and memory terms and are now good candidates for software development on ARM architecture. The Pi 4 boasts quad-core ARM v8 1.5Ghz CPU with 64-bit support and the option of 2, 4 or 8GB of DDR4 memory. It also has excellent connectivity through dual HDMI support (including 4k), Gigabit Ethernet and USB 3.0 (and 2.0) ports.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-08-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-08-15T00:00:00+00:00">




<link rel="canonical" href="https://jensenmo.github.io/posts/get-started-with-ubuntu-on-raspberry-pi-4/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.4b392a85107b91dbdabc528edf014a6ab1a30cd44cafcd5325c8efe796794fca.css" integrity="sha256-SzkqhRB7kdvavFKO3wFKarGjDNRMr81TJcjv55Z5T8o=" crossorigin="anonymous" media="screen" />








 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>




<body class="preload-transitions colorscheme-light">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://jensenmo.github.io/">
      Morten Jensen
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://jensenmo.github.io/posts/get-started-with-ubuntu-on-raspberry-pi-4/">
              Get started with Ubuntu 20.04 on Raspberry Pi 4
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2020-08-15T00:00:00Z">
                August 15, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              6-minute read
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div class="post-content">
        
        <h2 id="background">
  Background
  <a class="heading-link" href="#background">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>With the advent of the Raspberry Pi 4, Pi&rsquo;s have become quite powerful both in <a href="https://www.raspberrypi.org/products/raspberry-pi-4-model-b/specifications/"  class="external-link" target="_blank" rel="noopener">CPU and memory terms</a> and are now good candidates for software development on ARM architecture. The Pi 4 boasts quad-core ARM v8 1.5Ghz CPU with 64-bit support and the option of 2, 4 or 8GB of DDR4 memory. It also has excellent connectivity through dual HDMI support (including 4k), Gigabit Ethernet and USB 3.0 (and 2.0) ports.</p>
<p>My personal interest in the Pi 4 is in part AWS-based. AWS has recently made significant headway in the ARM space with the release of Graviton-based EC2 instances based on ARM64 (aka. <a href="https://en.wikipedia.org/wiki/AArch64"  class="external-link" target="_blank" rel="noopener">AArch64</a>) architecture.</p>
<p>This post details how to set-up and get started with Ubuntu 20.04 on the Pi 4.</p>
<p>So why choose Ubuntu over Raspberry Pi OS (aka. Raspbian)?</p>
<p>The Raspberry Pi 4 has ARM64 64-bit (AArch64) support. With the Pi 4 the additional memory options (4GB and 8GB) makes it highly relevant to use a 64-bit OS.</p>
<p>Ubuntu has <a href="https://wiki.ubuntu.com/ARM/RaspberryPi"  class="external-link" target="_blank" rel="noopener">distributions</a> that can be installed on the Raspberry Pi. This includes a 64-bit version of the OS for select Pi 3 and 4 models.</p>
<p>Currently the <a href="https://www.raspberrypi.org/blog/latest-raspberry-pi-os-update-may-2020/"  class="external-link" target="_blank" rel="noopener">Raspberry Pi OS 64-bit version has only been announced in Beta</a> recently.</p>
<p>On release, Ubuntu 20.04 was <a href="https://ubuntu.com/blog/ubuntu-20-04-lts-is-certified-for-the-raspberry-pi"  class="external-link" target="_blank" rel="noopener">certified with full support</a> on Raspberry Pi 4.</p>
<p>In other words, Ubuntu 20.04 is currently the only <a href="https://wiki.ubuntu.com/FocalFossa/ReleaseNotes#Raspberry_Pi"  class="external-link" target="_blank" rel="noopener">fully supported ARM64 64-bit OS</a>.</p>
<h2 id="installation">
  Installation
  <a class="heading-link" href="#installation">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>There is a <a href="https://ubuntu.com/tutorials/how-to-install-ubuntu-on-your-raspberry-pi#1-overview"  class="external-link" target="_blank" rel="noopener">How to install Ubuntu on your Raspberry Pi</a> tutorial available from Ubuntu, which is easy to follow.</p>
<h2 id="configuration">
  Configuration
  <a class="heading-link" href="#configuration">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>This section details the various configuration that is needed after successful installation of Ubuntu on the Raspberry Pi.</p>
<h3 id="screen-resolution">
  Screen resolution
  <a class="heading-link" href="#screen-resolution">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Raspberry Pi screen resolution configuration - incuding custom modes - is documented in <a href="https://www.raspberrypi.org/documentation/configuration/hdmi-config.md"  class="external-link" target="_blank" rel="noopener">hdmi-config.md</a> and <a href="https://www.raspberrypi.org/documentation/configuration/config-txt/video.md"  class="external-link" target="_blank" rel="noopener">video.md</a>.</p>
<p>The file <code>/boot/firmware/usercfg.txt</code> contains custom Ubuntu configuration for the Raspberry Pi. This includes things like screen resolution, which take effect immediately during boot.</p>
<p>Note that the configured screen resolution takes effect for both terminal and X window system.</p>
<p>Below is an example configuration for a custom 2560 x 1080 monitor configuration (<code>hdmi_mode</code> 87) with 21:9 (7) aspect ratio. <em>The example will need to be adjusted according to monitor type and resolution &amp; refresh requirements</em>.</p>
<p>The example also uses the vc4-fkms-v3d driver, which provides acceleration for both 2D (e.g. desktop) and 3D (OpenGL ES 3). More information <a href="https://www.raspberrypi.org/blog/vc4-and-v3d-opengl-drivers-for-raspberry-pi-an-update/"  class="external-link" target="_blank" rel="noopener">here</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#a6e22e">dtoverlay</span><span style="color:#f92672">=</span><span style="color:#e6db74">vc4-fkms-v3d</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">max_framebuffers</span><span style="color:#f92672">=</span><span style="color:#e6db74">2</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gpu_mem</span><span style="color:#f92672">=</span><span style="color:#e6db74">128</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#hdmi_enable_4kp60=1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># [HDMI:0]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hdmi_group:0</span><span style="color:#f92672">=</span><span style="color:#e6db74">2</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hdmi_cvt:0</span><span style="color:#f92672">=</span><span style="color:#e6db74">2560 1080 60 7</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hdmi_mode:0</span><span style="color:#f92672">=</span><span style="color:#e6db74">87</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hdmi_drive:0</span><span style="color:#f92672">=</span><span style="color:#e6db74">2</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disable_overscan:0</span><span style="color:#f92672">=</span><span style="color:#e6db74">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">max_framebuffer_width:0</span><span style="color:#f92672">=</span><span style="color:#e6db74">4096</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">max_framebuffer_height:0</span><span style="color:#f92672">=</span><span style="color:#e6db74">2160</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">framebuffer_width:0</span><span style="color:#f92672">=</span><span style="color:#e6db74">2560</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">framebuffer_height:0</span><span style="color:#f92672">=</span><span style="color:#e6db74">1080</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># [HDMI:1]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hdmi_group:1</span><span style="color:#f92672">=</span><span style="color:#e6db74">2</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hdmi_mode:1</span><span style="color:#f92672">=</span><span style="color:#e6db74">82</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hdmi_drive:1</span><span style="color:#f92672">=</span><span style="color:#e6db74">2</span>
</span></span></code></pre></div><p>After editing the file, do a reboot, e.g. using the <code>sudo reboot</code> command.</p>
<h3 id="installing-a-desktop">
  Installing a desktop
  <a class="heading-link" href="#installing-a-desktop">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The simple, lightweight desktop called <a href="https://lxqt.github.io/"  class="external-link" target="_blank" rel="noopener">LXQt</a> can be installed by running: <code>sudo apt install lubuntu-desktop</code>.</p>
<p>There are <a href="https://wiki.ubuntu.com/ARM/RaspberryPi#Desktop"  class="external-link" target="_blank" rel="noopener">other options</a> too.</p>
<h3 id="set-hostname">
  Set hostname
  <a class="heading-link" href="#set-hostname">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>A new hostname can be set, e.g. <code>rpi4-1</code>, with the command: <code>sudo hostnamectl set-hostname rpi4-1</code>.</p>
<h3 id="static-network-ip">
  Static network IP
  <a class="heading-link" href="#static-network-ip">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Follow the <a href="https://ubuntu.com/server/docs/network-configuration"  class="external-link" target="_blank" rel="noopener">Ubuntu server network configuration documentation</a>.</p>
<p>Per default the wired (eth0) network adapter uses DHCP to get an IP address and is listed in the Ubuntu Server UI Desktop as being Unmanaged.</p>
<p>The eth0 DHCP network configuration exists in the cloud-init netplan file <code>/etc/netplan/50-cloud-init.yaml</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">network</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ethernets</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">eth0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">dhcp4</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">optional</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">version</span>: <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><p>To disable the cloud-init netplan, which provides above configuration, create a new file <code>/etc/cloud/cloud.cfg.d/99-disable-network-config.cfg</code> and paste in:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">network</span>: {<span style="color:#f92672">config</span>: <span style="color:#ae81ff">disabled}</span>
</span></span></code></pre></div><p>Create a new netplan configuration file <code>/etc/netplan/99_config.yaml</code> with static IP address configuration, which resembles:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">network</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">version</span>: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">renderer</span>: <span style="color:#ae81ff">networkd</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ethernets</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">eth0</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">addresses</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">192.168.0.14</span><span style="color:#ae81ff">/24</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">gateway4</span>: <span style="color:#ae81ff">192.168.0.1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">nameservers</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">addresses</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">192.168.0.1</span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">1.1.1.1</span>
</span></span></code></pre></div><p>Remove the cloud-init netplan file:</p>
<p><code>sudo rm /etc/netplan/50-cloud-init.yaml</code></p>
<p>Apply netplan configuration (or alternatively reboot):</p>
<p><code>sudo netplan apply</code></p>
<p>More advanced configurations can also be achieved with <a href="https://netplan.io/examples"  class="external-link" target="_blank" rel="noopener">netplan</a>. E.g. multiple networks, IP addresses and default routes with metric-based weighting. Here&rsquo;s an example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">network</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">version</span>: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">renderer</span>: <span style="color:#ae81ff">networkd</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ethernets</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">eth0</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">addresses</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">192.168.0.14</span><span style="color:#ae81ff">/24</span>
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">192.168.1.14</span><span style="color:#ae81ff">/24</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">routes</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#f92672">to</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">via</span>: <span style="color:#ae81ff">192.168.0.1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">metric</span>: <span style="color:#ae81ff">50</span>
</span></span><span style="display:flex;"><span>        - <span style="color:#f92672">to</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">via</span>: <span style="color:#ae81ff">192.168.1.1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">metric</span>: <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">nameservers</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">addresses</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">1.1.1.1</span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">192.168.0.1</span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">192.168.1.1</span>
</span></span></code></pre></div><h2 id="software">
  Software
  <a class="heading-link" href="#software">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>This section details software to install for development purposes.</p>
<h3 id="visual-studio-code">
  Visual Studio Code
  <a class="heading-link" href="#visual-studio-code">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Up until very recently no official Microsoft Visual Studio Code (VSCode) builds exist for ARM. <a href="https://headmelted.com/"  class="external-link" target="_blank" rel="noopener">Headmelted</a> provides unofficial builds of VSCode for ARM.</p>
<p>You will need to trust the <a href="https://packagecloud.io/app/headmelted/codebuilds/gpg"  class="external-link" target="_blank" rel="noopener">packagecloud.io headmelted</a> repository GPG key by running the following:</p>
<p><code>curl https://packagecloud.io/headmelted/codebuilds/gpgkey | sudo apt-key add -</code></p>
<p>Then follow the instructions to <a href="https://code.headmelted.com"  class="external-link" target="_blank" rel="noopener">install VSCode</a>.</p>
<p>Bootnote: Microsoft has started to release <a href="https://github.com/microsoft/vscode/pull/106289"  class="external-link" target="_blank" rel="noopener">insider builds of VSCode for both ARMv7 and ARMv8 (64-bit)</a> and an official release is said to be imminent (probably as part of VSCode 1.50).</p>
<h3 id="docker">
  Docker
  <a class="heading-link" href="#docker">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p><a href="https://docs.docker.com/engine/install/ubuntu/"  class="external-link" target="_blank" rel="noopener">Docker installation documentation on Ubuntu</a>.</p>
<p>This is the short version:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt-get update
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo apt-get install -y <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    apt-transport-https <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    ca-certificates <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    curl <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    gnupg-agent <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    software-properties-common
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Verify that key was loaded</span>
</span></span><span style="display:flex;"><span>sudo apt-key fingerprint 0EBFCD88
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo add-apt-repository <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   <span style="color:#e6db74">&#34;deb [arch=arm64] https://download.docker.com/linux/ubuntu \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   </span><span style="color:#66d9ef">$(</span>lsb_release -cs<span style="color:#66d9ef">)</span><span style="color:#e6db74"> \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   stable&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo apt-get update
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo apt-get install -y docker-ce docker-ce-cli containerd.io
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Verify correct installation of docker:</span>
</span></span><span style="display:flex;"><span>sudo docker run hello-world
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add current user for docker administration (remember to restart)</span>
</span></span><span style="display:flex;"><span>sudo usermod -aG docker $USER
</span></span></code></pre></div><p>Do a reboot and then check that docker is up and running:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker ps
</span></span><span style="display:flex;"><span>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</span></span></code></pre></div><h3 id="python-3">
  Python 3
  <a class="heading-link" href="#python-3">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Python 3(.8) is already installed per default.</p>
<p>To install pip (python package manager) and venv (python virtual environment), run:</p>
<p><code>sudo apt install -y python3-pip python3-venv</code></p>
<h3 id="node">
  Node
  <a class="heading-link" href="#node">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The default way of installing Node in Ubuntu is via <code>sudo apt install npm</code>. However, as of writing the provided version is v10, which is an LTS in Maintenance. v12 is the Active LTS and is therefore preferable.</p>
<p>To install v12 (or later) the <a href="https://github.com/nvm-sh/nvm#installing-and-updating"  class="external-link" target="_blank" rel="noopener">Node Version Manager (NVM)</a> can be used. Unlike with apt, NVM and installation of node does not require root privileges and in effect provides a virtual user environment (not unlike pip/python) without the need to install npm packages globally as root.</p>
<p>To install NVM, <a href="https://github.com/nvm-sh/nvm/releases/"  class="external-link" target="_blank" rel="noopener">check latest version</a> (e.g v0.36.0) and then run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd
</span></span><span style="display:flex;"><span>curl https://raw.githubusercontent.com/nvm-sh/nvm/v0.36.0/install.sh -O
</span></span><span style="display:flex;"><span>chmod ug+x install.sh
</span></span><span style="display:flex;"><span>./install.sh
</span></span><span style="display:flex;"><span>export NVM_DIR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$HOME<span style="color:#e6db74">/.nvm&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> -s <span style="color:#e6db74">&#34;</span>$NVM_DIR<span style="color:#e6db74">/nvm.sh&#34;</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#ae81ff">\.</span> <span style="color:#e6db74">&#34;</span>$NVM_DIR<span style="color:#e6db74">/nvm.sh&#34;</span>  <span style="color:#75715e"># This loads nvm</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> -s <span style="color:#e6db74">&#34;</span>$NVM_DIR<span style="color:#e6db74">/bash_completion&#34;</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#ae81ff">\.</span> <span style="color:#e6db74">&#34;</span>$NVM_DIR<span style="color:#e6db74">/bash_completion&#34;</span>  <span style="color:#75715e"># This loads nvm bash_completion</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Find latest Node v12 version</span>
</span></span><span style="display:flex;"><span>nvm ls-remote | grep v12 | grep Latest
</span></span><span style="display:flex;"><span>       v12.18.4   <span style="color:#f92672">(</span>Latest LTS: Erbium<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Install latest v12 version</span>
</span></span><span style="display:flex;"><span>nvm install v12.18.4
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Explicitly set the currently active Node version to use</span>
</span></span><span style="display:flex;"><span>nvm use node v12.18.4
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Validate that the correct version is used</span>
</span></span><span style="display:flex;"><span>node --version
</span></span><span style="display:flex;"><span>v12.18.4
</span></span></code></pre></div><h3 id="kubernetes">
  Kubernetes
  <a class="heading-link" href="#kubernetes">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Ubuntu 20.04 comes with a new packaging and deployment tool, <a href="https://snapcraft.io/about"  class="external-link" target="_blank" rel="noopener">Snap</a>. It promises to make software distribution, installation and configuration easer by bundling a given software and its requirements in a single package and to ring-fence the software from other installations on a system.</p>
<p>Opinions on new Snap packaging are mixed but a prime example of Snap in action is the relatively lightweight <a href="https://ubuntu.com/tutorials/install-a-local-kubernetes-with-microk8s#1-overview"  class="external-link" target="_blank" rel="noopener"> Snap microk8s Kubernetes distribution</a>, which can be easily installed using: <code>sudo snap install microk8s --classic</code>.</p>
<p>This also works on the Raspberry Pi 4.</p>
<p>Note that if you do not want microk8s to start by default at every boot, this behaviour can be disabled using <code>sudo snap stop --disable microk8s</code>.</p>
<p>To start microk8s, run <code>sudo snap start microk8s</code>. Note that this will take a minute or so to complete at which point the local node should be reporting as ready:</p>
<pre tabindex="0"><code>microk8s kubectl get nodes
NAME     STATUS   ROLES    AGE   VERSION
rpi4-1   Ready    &lt;none&gt;   19d   v1.19.0-34+&lt;...&gt;
</code></pre>
      </div>


      <footer>
        


        
        
        
        
        
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2025
     Morten Jensen 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  <script async defer data-domain="jensenmo.github.io" src="https://plausible.io/js/script.js"></script>


  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
